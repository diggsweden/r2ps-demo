name = SoftHsm-p256
library = /usr/lib/softhsm/libsofthsm2.so
slotListIndex = 0

# Default attributes for EC private keys
attributes(*,CKO_PRIVATE_KEY,*) = {
  CKA_TOKEN = true
  CKA_SENSITIVE = true
  CKA_EXTRACTABLE = true
  CKA_WRAP_WITH_TRUSTED = false
  CKA_SIGN = true
  CKA_DERIVE = true
}

# Make derived secret keys (ECDH Z) readable so KeyAgreement.generateSecret() works
attributes(*,CKO_SECRET_KEY,CKK_GENERIC_SECRET) = {
  CKA_SENSITIVE   = false
  CKA_EXTRACTABLE = true
  CKA_VALUE_LEN   = 32   # P-256: 32, P-384: 48, P-521: 66
}
